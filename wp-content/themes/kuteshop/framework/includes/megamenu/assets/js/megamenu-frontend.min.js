!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){e.fn.addBack=e.fn.addBack||e.fn.andSelf,e.fn.extend({actual:function(n,t){if(!this[n])throw'$.actual => The jQuery method "'+n+'" you called does not exist';var i,o,a={absolute:!1,clone:!1,includeMargin:!1,display:"block"},r=e.extend(a,t),c=this.eq(0);if(r.clone===!0)i=function(){var e="position: absolute !important; top: -1000 !important; ";c=c.clone().attr("style",e).appendTo("body")},o=function(){c.remove()};else{var l,s=[],u="";i=function(){l=c.parents().addBack().filter(":hidden"),u+="visibility: hidden !important; display: "+r.display+" !important; ",r.absolute===!0&&(u+="position: absolute !important; "),l.each(function(){var n=e(this),t=n.attr("style");s.push(t),n.attr("style",t?t+";"+u:u)})},o=function(){l.each(function(n){var t=e(this),i=s[n];void 0===i?t.removeAttr("style"):t.attr("style",i)})}}i();var d=/(outer)/.test(n)?c[n](r.includeMargin):c[n]();return o(),d}})}),function(e){"use strict";function n(e,n){if("undefined"!==e){var t=0,i=0,o=e.offset();"undefined"!=typeof o&&(i=e.innerWidth(),setTimeout(function(){n.children(".megamenu").css({"max-width":i+"px"});var e=n.children(".megamenu").outerWidth(),a=n.outerWidth();n.children(".megamenu").css({left:"-"+(e/2-a/2)+"px"});var r=o.left,c=r+i,l=n.offset().left,s=e/2>l-r,u=e/2+l>c;s&&(t=l-r,n.children(".megamenu").css({left:-t+"px"})),u&&!s&&(t=l-r,t-=i-e,n.children(".megamenu").css({left:-t+"px"}))},100))}}function t(){var e=jQuery('<div style="width: 100%; height:200px;">test</div>'),n=jQuery('<div style="width:200px;height:150px; position: absolute; top: 0; left: 0; visibility: hidden; overflow:hidden;"></div>').append(e),t=e[0],i=n[0];jQuery("body").append(i);var o=t.offsetWidth;n.css("overflow","scroll");var a=i.clientWidth;return n.remove(),o-a}e.fn.ovic_resize_megamenu=function(){var i=e(this);i.on("ovic_resize_megamenu",function(){var i=jQuery("body").innerWidth();i+=t(),e(this).length>0&&i>991&&e(this).each(function(){var t=e(this).children(".megamenu").data("responsive"),i=e(this).closest(".ovic-menu-wapper");""!==t&&(i=e(this).closest(t)),n(i,e(this))})}).trigger("ovic_resize_megamenu"),e(window).on("resize",function(){i.trigger("ovic_resize_megamenu")})},e.fn.ovic_vertical_megamenu=function(){var n=e(this);n.on("ovic_vertical_megamenu",function(){e(this).each(function(){var n=e(this),t=n.offset().left>0?n.offset().left:0,i=parseInt(n.actual("width")),o=t+i;n.find(".megamenu").each(function(){var n=e(this),a=n.data("responsive"),r=n.closest(".container");if(""!==a&&(r=n.closest(a)),r.length>0){var c=parseInt(r.innerWidth())-30,l=r.offset(),s=l.left+c,u=c-i;(t>s||o<l.left)&&(u=c),o>s&&(u=c-(i-(o-s))-30),u>0&&e(this).css("max-width",u+"px")}})})}).trigger("ovic_vertical_megamenu"),e(window).on("resize",function(){n.trigger("ovic_vertical_megamenu")})},e(document).on("click",".menu-toggle",function(){return e("body").addClass("ovic-open-mobile-menu"),e(".ovic-menu-clone-wrap").addClass("open"),!1}),e(document).on("click",".ovic-menu-clone-wrap .ovic-menu-close-panels",function(){return e("body").removeClass("ovic-open-mobile-menu"),e(".ovic-menu-clone-wrap").removeClass("open"),!1}),e(document).on("click",function(n){var t=e(".ovic-menu-clone-wrap");e("body").hasClass("rtl")?n.offsetX<0&&(t.removeClass("open"),e("body").removeClass("ovic-open-mobile-menu")):n.offsetX>t.width()&&(t.removeClass("open"),e("body").removeClass("ovic-open-mobile-menu"))}),e(document).on("click",".ovic-menu-next-panel",function(n){var t=e(this),i=t.attr("href"),o=t.closest(".menu-item"),a=t.closest(".ovic-menu-panel"),r=t.closest(".ovic-menu-clone-wrap"),c=r.find(".ovic-menu-current-panel-title"),l=r.find(".ovic-menu-panels-actions-wrap"),s=r.find(i);if(s.length){var u=o.children(".menu-link").html(),d=e('<a class="ovic-menu-prev-panel"></a>'),m="";a.addClass("ovic-menu-sub-opened"),s.removeClass("ovic-menu-hidden").addClass("ovic-menu-panel-opened").attr("data-parent-title",u).attr("data-parent-panel",a.attr("id")),c.length>0&&(m=c.clone()),"undefined"!=typeof u&&typeof u!==!1?(c.length||l.prepend('<span class="ovic-menu-current-panel-title"></span>'),c.html(u)):c.remove(),d.attr("data-current-panel",i),d.attr("href","#"+a.attr("id")),l.find(".ovic-menu-prev-panel").remove(),l.prepend(d)}n.preventDefault()}),e(document).on("click",".ovic-menu-prev-panel",function(n){var t=e(this),i=t.closest(".ovic-menu-clone-wrap"),o=t.attr("data-current-panel"),a=t.attr("href"),r=i.find(".ovic-menu-panels-actions-wrap"),c=i.find(".ovic-menu-current-panel-title"),l=i.find(a),s=c.attr("data-main-title");i.find(o).removeClass("ovic-menu-panel-opened").addClass("ovic-menu-hidden"),l.addClass("ovic-menu-panel-opened").removeClass("ovic-menu-sub-opened");var u=l.attr("data-parent-title"),d=l.attr("data-parent-panel");"undefined"==typeof d||typeof d===!1?(t.remove(),c.html(s)):(t.attr("href","#"+d).attr("data-current-panel",a),"undefined"!=typeof u&&typeof u!==!1?(c.length||r.prepend('<span class="ovic-menu-current-panel-title"></span>'),c.html(u)):c.remove()),n.preventDefault()}),e(document).on("click",".ovic-menu-clone-wrap .menu-item.disable-link > .menu-link",function(n){e(this).prev(".ovic-menu-next-panel").trigger("click"),n.preventDefault()}),e(document).ready(function(){var n=e(".ovic-menu-wapper.horizontal"),t=e(".ovic-menu-wapper.vertical");n.length&&n.each(function(){e(this).find(".item-megamenu").length&&e(this).find(".item-megamenu").ovic_resize_megamenu()}),t.length&&t.ovic_vertical_megamenu()})}(jQuery);